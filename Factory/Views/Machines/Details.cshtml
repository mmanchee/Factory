@{
  Layout = "_Layout";
}

@model Factory.Models.Machine;

@Html.ActionLink(" Home", "Index", "Home", null, new { @class="btn btn-info fa fa-home" })
@Html.ActionLink(" All Machines", "Index",null, null, new { @class="btn btn-info fa fa-cogs" })
@Html.ActionLink(" Edit", "Edit", new { id = Model.MachineId }, new { @class="btn btn-info fa fa-edit" })
@Html.ActionLink(" Delete", "Delete", new { id = Model.MachineId }, new { @class="btn btn-info fa fa-times" })
<hr />
<p>@Html.DisplayFor(model => model.Name)'s Details</p>
<hr />
<p>@Html.Label("Name"): @Html.DisplayFor(model => model.Name)</p>
<p>@Html.Label("Purchase Date"): @Html.DisplayFor(model => model.Purchase)</p>
<p>@Html.Label("Serial Number"): @Html.DisplayFor(model => model.SerialNumber)</p>
@if (Model.MachineTypeId > 0)
{
  <p>@Html.Label("Machine Type"): @ViewBag.MachineType.Name</p>
  <hr />
  <div class="box">
    <div class="inner-box">
      @if(@ViewBag.Engineers.Count == 0)
      {
        <p>This Machine does not have any Engineers.</p>
      }
      else
      {
        <p>Engineers</p>
        <ul>
        @foreach(var engineer1 in ViewBag.Engineers)
        {
          @foreach(var engineer2 in engineer1)
          {
            <li>@engineer2.Name</li>
          }
        }
        </ul>
      }
    </div>
  </div>
}
<hr />
@if (ViewBag.Records != null)
{
  <div class="box">
    <div class="inner-box">
      @if(@ViewBag.Records.Count == 0)
      {
        <p>This Machine does not have any Records.</p>
      }
      else
      {
        <p>Records</p>
        <ul>
        @foreach(var record in ViewBag.Records)
        {
          <li>@Html.ActionLink($"{record.RecordId}", "Details", "Records", new { id = record.RecordId })</li>
        }
        </ul>
      }
    </div>
  </div>
}
<hr />